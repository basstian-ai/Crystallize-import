import { Box, Text } from 'ink';
import { useEffect } from 'react';
import { useJourney } from '../context/provider.js';
import { colors } from '../../../../config/colors.js';
import downloadBoilerplate from '../../../use-cases/downloadBoilerplate.js';
import { Spinner } from '../../../components/Spinner.js';
import React from 'react';
export const DownloadProject = () => {
    const { state, dispatch } = useJourney();
    useEffect(() => {
        downloadBoilerplate(state.boilerplate, state.folder)
            .then(() => dispatch.boilerplateDownloaded())
            .catch(console.error);
    }, []);
    if (state.isDownloaded) {
        return (React.createElement(Text, null,
            "The boilerplate has been successfully ",
            React.createElement(Text, { color: colors.highlight }, "downloaded"),
            "."));
    }
    return (React.createElement(React.Fragment, null,
        React.createElement(Box, null,
            React.createElement(Text, null,
                React.createElement(Spinner, null),
                "Downloading the ",
                state.boilerplate.name,
                " boilerplate..."))));
};
