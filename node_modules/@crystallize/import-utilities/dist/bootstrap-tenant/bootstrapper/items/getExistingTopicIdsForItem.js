"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getExistingTopicIdsForItem = void 0;
const graphql_tag_1 = __importDefault(require("graphql-tag"));
async function getExistingTopicIdsForItem(itemId, language, context) {
    var _a, _b, _c, _d;
    const result = await context.callPIM({
        query: (0, graphql_tag_1.default) `
      query GET_ITEM_TOPICS($itemId: ID!, $language: String!) {
        item {
          get(id: $itemId, language: $language) {
            topics {
              id
            }
          }
        }
      }
    `,
        variables: {
            itemId,
            language,
        },
    });
    return ((_d = (_c = (_b = (_a = result.data) === null || _a === void 0 ? void 0 : _a.item) === null || _b === void 0 ? void 0 : _b.get) === null || _c === void 0 ? void 0 : _c.topics) === null || _d === void 0 ? void 0 : _d.map((t) => t.id)) || [];
}
exports.getExistingTopicIdsForItem = getExistingTopicIdsForItem;
